angular.module("starter.controllers",[]).controller("DashCtrl",function(t){}).controller("RestaurantsCtrl",function(t,e){e.all().success(function(e){t.restaurants=e.restaurants})}).controller("RestaurantDetailCtrl",function(t,e,o,a){t.restaurant=a.get(e.restaurantId),console.log("lookup",e.restaurantId,t.restaurant);var n=new google.maps.LatLng(t.restaurant.location.latitude,t.restaurant.location.longitude),r={timeout:1e4,enableHighAccuracy:!0};o.getCurrentPosition(r).then(function(e){var o=new google.maps.LatLng(e.coords.latitude,e.coords.longitude),a={center:n,zoom:15,mapTypeId:google.maps.MapTypeId.ROADMAP};t.map=new google.maps.Map(document.getElementById("map"),a),google.maps.event.addListenerOnce(t.map,"idle",function(){var e=new google.maps.Marker({map:t.map,animation:google.maps.Animation.DROP,position:o}),a=new google.maps.Marker({map:t.map,animation:google.maps.Animation.DROP,position:n}),r=new google.maps.InfoWindow({content:"Here I am!"}),l=new google.maps.InfoWindow({content:t.restaurant.name});google.maps.event.addListener(e,"click",function(){r.open(t.map,e)}),google.maps.event.addListener(a,"click",function(){l.open(t.map,a)})})},function(t){console.log("Could not get location")})}).controller("MapCtrl",function(t,e,o){var a={timeout:1e4,enableHighAccuracy:!0};o.getCurrentPosition(a).then(function(e){var o=new google.maps.LatLng(e.coords.latitude,e.coords.longitude),a={center:o,zoom:15,mapTypeId:google.maps.MapTypeId.ROADMAP};t.map=new google.maps.Map(document.getElementById("map"),a),google.maps.event.addListenerOnce(t.map,"idle",function(){var e=new google.maps.Marker({map:t.map,animation:google.maps.Animation.DROP,position:o}),a=new google.maps.InfoWindow({content:"Here I am!"});google.maps.event.addListener(e,"click",function(){a.open(t.map,e)})})},function(t){console.log("Could not get location")})});